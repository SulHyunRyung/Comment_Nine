{% include 'header.html' %}

    <div style="margin-top: 30vh;">
        <div class="mx-auto" style="width:20vw">
            <h2>Comment_Nine Login</h2> 
            {% if 'user_id' in session %}
                <p>이미 {{ session['user_id'] }}님으로 로그인 되어 있습니다.</p>
                <a href="{{url_for('show_index')}}"> 인덱스 페이지로 돌아가기 </a>
            {% else %}
                <div >
                    <form class="mb-2" method="post" action="{{ url_for('login') }}">
                        <div class="form-group">
                            <label for="username">아이디</label>
                            <input type="text" class="form-control" id="user_id" name="user_id" placeholder="id" required>
                        </div>
                        <div class="form-group">
                            <label for="password">비밀번호</label>
                            <input type="password" class="form-control" id="user_password" name="user_password" placeholder="password" required>
                        </div>
                        <div style="color:red">
                            {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                <div class="alert alert-{{ messages[0].category }}">
                                    {{ messages[0] }}
                                </div>
                            {% endif %}
                            {% endwith %}
                        </div>
                        <button type="submit" class="btn btn-primary">로그인</button>
                    </form> 
                    <p> 아직 회원이 아니세요? <a href="{{url_for('join')}}"> <br>회원가입</a> </p>
                </div>
            {% endif %} 
        </div>
    </div>

{% include 'footer.html' %}